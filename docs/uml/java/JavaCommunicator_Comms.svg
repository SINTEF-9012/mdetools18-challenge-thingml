<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1364px" preserveAspectRatio="none" style="width:1506px;height:1364px;" version="1.1" viewBox="0 0 1506 1364" width="1506px" zoomAndPan="magnify"><defs><filter height="300%" id="fa5mvrsayvohi" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="750" cy="18" fill="#000000" filter="url(#fa5mvrsayvohi)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fa5mvrsayvohi)" height="1237.6094" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="1488" x="6" y="88"/><rect fill="#FFFFFF" height="1204" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="1482" x="9" y="118.6094"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="6" x2="1494" y1="115.6094" y2="115.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="726.5" y="107.5332">Comms</text><ellipse cx="739" cy="138.6094" fill="#000000" filter="url(#fa5mvrsayvohi)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fa5mvrsayvohi)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="670.5" y="185.6094"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="670.5" x2="807.5" y1="213.2188" y2="213.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="680.5" y="205.1426">WaitForSettings_4</text><rect fill="#FEFECE" filter="url(#fa5mvrsayvohi)" height="67.7969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="648" y="305.6094"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="648" x2="830" y1="333.2188" y2="333.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="677.5" y="325.1426">OpenControlPort_1</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="162" x="653" y="350.6758">entry / ControlSocket!Open(...)</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="0" x="656" y="365.7695"/><rect fill="#FEFECE" filter="url(#fa5mvrsayvohi)" height="67.7969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="208" x="635" y="427.6094"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="635" x2="843" y1="455.2188" y2="455.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="662" y="447.1426">OpenObservationPort_1</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="188" x="640" y="472.6758">entry / ObservationSocket!Open(...)</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="0" x="643" y="487.7695"/><rect fill="#FEFECE" filter="url(#fa5mvrsayvohi)" height="760.6094" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="1444" x="17" y="549.6094"/><rect fill="#FFFFFF" height="727" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="1438" x="20" y="580.2188"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="17" x2="1461" y1="577.2188" y2="577.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="688" y="569.1426">Communicate_1</text><ellipse cx="77.5" cy="600.2188" fill="#000000" filter="url(#fa5mvrsayvohi)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fa5mvrsayvohi)" height="52.7031" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="28" y="646.2188"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="28" x2="127" y1="673.8281" y2="673.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="49" y="665.752">Ready_1</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="33" y="691.2852">entry / do...end</text><!--link *start*Communicate_1 to Ready_1--><path d="M77.5,610.4354 C77.5,618.2682 77.5,629.9758 77.5,641.0657 " fill="none" id="*start*Communicate_1-Ready_1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="77.5,646.1015,81.5,637.1015,77.5,641.1015,73.5,637.1015,77.5,646.1015" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5; stroke-dasharray: 8.0,10.0;" x1="22" x2="1454" y1="709.2188" y2="709.2188"/><ellipse cx="345.426" cy="730.2188" fill="#000000" filter="url(#fa5mvrsayvohi)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><polygon fill="#FBFB77" filter="url(#fa5mvrsayvohi)" points="373.926,717.2188,373.926,743.5703,484.926,743.5703,484.926,727.2188,474.926,717.2188,373.926,717.2188" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="373.926,717.2188,373.926,743.5703,420.443,743.5703,397.352,809.8768,428.443,743.5703,484.926,743.5703,484.926,727.2188,474.926,717.2188,373.926,717.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="474.926" x2="474.926" y1="717.2188" y2="727.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="484.926" x2="474.926" y1="727.2188" y2="727.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="379.926" y="735.7139">Region Rover_1</text><rect fill="#FEFECE" filter="url(#fa5mvrsayvohi)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="312.426" y="810.2188"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="312.426" x2="462.426" y1="837.8281" y2="837.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="130" x="322.426" y="829.752">WaitForCommand_2</text><rect fill="#FEFECE" filter="url(#fa5mvrsayvohi)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="99.4256" y="977.2188"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="99.4256" x2="235.4256" y1="1004.8281" y2="1004.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="109.4256" y="996.752">WaitForPosition_2</text><rect fill="#FEFECE" filter="url(#fa5mvrsayvohi)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="557.926" y="977.2188"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="557.926" x2="702.926" y1="1004.8281" y2="1004.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="567.926" y="996.752">WaitForCompass_1</text><!--link *start*CONC17 to WaitForCommand_2--><path d="M348.863,739.6478 C354.642,753.8218 366.565,783.0598 375.632,805.2968 " fill="none" id="*start*CONC17-WaitForCommand_2" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="377.52,809.9278,377.8245,800.0836,375.6316,805.2981,370.4171,803.1051,377.52,809.9278" style="stroke: #A80036; stroke-width: 1.0;"/><!--link WaitForCommand_2 to WaitForCommand_2--><path d="M462.594,823.1038 C473.265,825.0638 480.426,829.1018 480.426,835.2188 C480.426,840.2848 475.515,843.9248 467.767,846.1388 " fill="none" id="WaitForCommand_2-WaitForCommand_2" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="462.594,847.3338,472.2635,849.2047,467.4656,846.208,470.4623,841.4101,462.594,847.3338" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="486.426" y="799.7139">brake:Rover?SetBrake</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="437" x="486.426" y="816.0654">action ControlSocket!Out("Rover,brake(" + FormatInteger(brake.brake) + ")")</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="490.426" y="832.417"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="486.426" y="848.7686">||power:Rover?SetRoverLRPower</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="659" x="486.426" y="865.1201">action ControlSocket!Out("Rover,setLRPower(" + FormatInteger(power.left) + "," + FormatInteger(power.right) + ")")</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="490.426" y="881.4717"/><!--link WaitForCommand_2 to WaitForPosition_2--><path d="M312.214,840.9008 C220.152,848.3828 72.2765,866.6718 38.4256,908.2188 C24.1083,925.7918 25.1079,940.8771 38.4256,959.2188 C51.6126,977.3806 72.8566,987.8409 94.3321,993.8168 " fill="none" id="WaitForCommand_2-WaitForPosition_2" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="99.2053,995.0971,91.5172,988.9413,94.3694,993.8265,89.4843,996.6787,99.2053,995.0971" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="39.4256" y="922.7139">Rover?GetRoverPosition</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="235" x="39.4256" y="939.0654">action ControlSocket!Out("Rover,GPS()")</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="43.4256" y="955.417"/><!--link WaitForCommand_2 to WaitForCompass_1--><path d="M414.634,860.3598 C428.381,873.5408 444.606,890.7138 456.426,908.2188 C470.34,928.8261 460.556,943.0259 479.426,959.2188 C499.849,976.7452 527.031,986.9983 552.7,992.9817 " fill="none" id="WaitForCommand_2-WaitForCompass_1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="557.811,994.1225,549.8978,988.2589,552.9309,993.0339,548.156,996.067,557.811,994.1225" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="480.426" y="922.7139">Rover?GetRoverCompass</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="280" x="480.426" y="939.0654">action ControlSocket!Out("Rover,getCompass()")</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="484.426" y="955.417"/><!--link WaitForPosition_2 to WaitForCommand_2--><path d="M235.507,983.9686 C249.938,977.927 264.187,969.8796 275.426,959.2188 C293.466,942.1066 283.237,927.9056 298.426,908.2188 C311.632,891.1018 329.685,875.5308 346.081,863.2828 " fill="none" id="WaitForPosition_2-WaitForCommand_2" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="350.21,860.2418,340.5915,862.3594,346.1844,863.2074,345.3365,868.8003,350.21,860.2418" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="299.426" y="931.2139">response:ControlSocket?In</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="299.426" y="947.5654">action do...end</text><!--link WaitForCompass_1 to WaitForCommand_2--><path d="M703.111,994.4892 C725.429,988.6058 747.702,978.0311 761.426,959.2188 C774.784,940.9071 775.859,925.6958 761.426,908.2188 C724.921,864.0158 566.284,846.6608 467.711,840.0638 " fill="none" id="WaitForCompass_1-WaitForCommand_2" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="462.478,839.7198,471.197,844.3001,467.4673,840.0469,471.7205,836.3173,462.478,839.7198" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="772.426" y="931.2139">response:ControlSocket?In</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="772.426" y="947.5654">action do...end</text><line style="stroke: #A80036; stroke-width: 1.5; stroke-dasharray: 8.0,10.0;" x1="22" x2="1454" y1="1037.2188" y2="1037.2188"/><ellipse cx="540.126" cy="1058.2188" fill="#000000" filter="url(#fa5mvrsayvohi)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><polygon fill="#FBFB77" filter="url(#fa5mvrsayvohi)" points="568.126,1045.2188,568.126,1071.5703,686.126,1071.5703,686.126,1055.2188,676.126,1045.2188,568.126,1045.2188" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="568.126,1045.2188,568.126,1071.5703,615.86,1071.5703,597.707,1108.0278,623.86,1071.5703,686.126,1071.5703,686.126,1055.2188,676.126,1045.2188,568.126,1045.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="676.126" x2="676.126" y1="1045.2188" y2="1055.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="686.126" x2="676.126" y1="1055.2188" y2="1055.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="574.126" y="1063.7139">Region Leader_1</text><rect fill="#FEFECE" filter="url(#fa5mvrsayvohi)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="508.126" y="1108.2188"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="508.126" x2="658.126" y1="1135.8281" y2="1135.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="130" x="518.126" y="1127.752">WaitForCommand_3</text><rect fill="#FEFECE" filter="url(#fa5mvrsayvohi)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="197" x="116.6259" y="1245.2188"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="116.6259" x2="313.6259" y1="1272.8281" y2="1272.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="177" x="126.6259" y="1264.752">WaitForSimulationStarted_1</text><rect fill="#FEFECE" filter="url(#fa5mvrsayvohi)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="438.126" y="1245.2188"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="438.126" x2="574.126" y1="1272.8281" y2="1272.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="448.126" y="1264.752">WaitForPosition_3</text><rect fill="#FEFECE" filter="url(#fa5mvrsayvohi)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="1025.626" y="1245.2188"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1025.626" x2="1166.626" y1="1272.8281" y2="1272.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="1035.626" y="1264.752">WaitForDistance_1</text><!--link *start*CONC32 to WaitForCommand_3--><path d="M544.892,1067.3098 C550.078,1076.1148 558.665,1090.6918 566.388,1103.8028 " fill="none" id="*start*CONC32-WaitForCommand_3" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="568.968,1108.1828,567.848,1098.3978,566.4309,1103.8743,560.9544,1102.4571,568.968,1108.1828" style="stroke: #A80036; stroke-width: 1.0;"/><!--link WaitForCommand_3 to WaitForSimulationStarted_1--><path d="M508.075,1134.4858 C366.27,1135.7778 70.3162,1142.5278 39.1259,1176.2188 C23.7274,1192.8518 25.081,1209.4279 39.1259,1227.2188 C49.0107,1239.74 78.7554,1248.9369 111.0456,1255.4763 " fill="none" id="WaitForCommand_3-WaitForSimulationStarted_1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="116.2471,1256.5031,108.1921,1250.8358,111.3418,1255.5348,106.6428,1258.6844,116.2471,1256.5031" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="40.1259" y="1190.7139">Leader?LeaderStart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="222" x="40.1259" y="1207.0654">action ObservationSocket!Out("ready")</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="44.1259" y="1223.417"/><!--link WaitForCommand_3 to WaitForPosition_3--><path d="M507.745,1147.2898 C476.901,1154.3128 446.287,1164.0507 437.126,1176.2188 C423.492,1194.3268 426.021,1207.4588 437.126,1227.2188 C440.185,1232.663 444.268,1237.484 448.926,1241.7339 " fill="none" id="WaitForCommand_3-WaitForPosition_3" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="452.964,1245.1706,448.7039,1236.2907,449.1568,1241.9294,443.5181,1242.3823,452.964,1245.1706" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="438.126" y="1190.7139">Leader?GetLeaderPosition</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="438.126" y="1207.0654">action ObservationSocket!Out("Leader,GPS()")</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="442.126" y="1223.417"/><!--link WaitForCommand_3 to WaitForDistance_1--><path d="M658.472,1136.4938 C741.374,1140.2788 868.181,1150.2438 908.126,1176.2188 C930.363,1190.6798 917.898,1211.3138 939.126,1227.2188 C962.509,1244.7384 992.665,1254.9567 1020.287,1260.9139 " fill="none" id="WaitForCommand_3-WaitForDistance_1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1025.413,1261.9774,1017.4132,1256.2325,1020.5173,1260.9616,1015.7881,1264.0656,1025.413,1261.9774" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="940.126" y="1190.7139">Leader?GetLeaderDistance</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="292" x="940.126" y="1207.0654">action ObservationSocket!Out("Leader,Distance()")</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="944.126" y="1223.417"/><!--link WaitForSimulationStarted_1 to WaitForCommand_3--><path d="M245.284,1245.115 C251.493,1239.54 257.765,1233.4161 263.126,1227.2188 C280.788,1206.7998 273.409,1190.8078 296.126,1176.2188 C329.435,1154.8258 430.086,1143.8688 502.796,1138.5978 " fill="none" id="WaitForSimulationStarted_1-WaitForCommand_3" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="507.982,1138.2278,498.7202,1134.8782,502.9947,1138.5835,499.2894,1142.8579,507.982,1138.2278" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="297.126" y="1199.2139">ObservationSocket?In</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="297.126" y="1215.5654">action do...end</text><!--link WaitForPosition_3 to WaitForCommand_3--><path d="M574.191,1264.1348 C626.06,1258.6788 691.343,1247.8505 708.126,1227.2188 C722.43,1209.6352 721.357,1194.6228 708.126,1176.2188 C697.315,1161.1818 680.855,1151.4538 663.396,1145.1818 " fill="none" id="WaitForPosition_3-WaitForCommand_3" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="658.449,1143.5028,665.6855,1150.1835,663.1836,1145.11,668.2571,1142.6081,658.449,1143.5028" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="720.126" y="1199.2139">response:ObservationSocket?In</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="720.126" y="1215.5654">action do...end</text><!--link WaitForDistance_1 to WaitForCommand_3--><path d="M1166.68,1264.5421 C1191.76,1259.0621 1217.6,1248.2225 1233.13,1227.2188 C1246.6,1208.9929 1248.63,1192.7548 1233.13,1176.2188 C1194.94,1135.4888 828.873,1132.6048 663.507,1133.4148 " fill="none" id="WaitForDistance_1-WaitForCommand_3" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="658.192,1133.4418,667.2125,1137.3954,663.1919,1133.416,667.1713,1129.3955,658.192,1133.4418" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="1244.13" y="1199.2139">response:ObservationSocket?In</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="1244.13" y="1215.5654">action do...end</text><!--link WaitForSettings_4 to OpenControlPort_1--><path d="M739,235.7994 C739,253.9794 739,279.2394 739,300.1794 " fill="none" id="WaitForSettings_4-OpenControlPort_1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="739,305.3994,743,296.3994,739,300.3994,735,296.3994,739,305.3994" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="740" y="268.1045">settings:Loaded?Settings</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="740" y="284.4561">action do...end</text><!--link OpenControlPort_1 to OpenObservationPort_1--><path d="M739,373.7174 C739,388.8014 739,406.7434 739,422.3964 " fill="none" id="OpenControlPort_1-OpenObservationPort_1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="739,427.6094,743,418.6094,739,422.6094,735,418.6094,739,427.6094" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="740" y="406.1045">ControlSocket?WasOpened</text><!--link OpenObservationPort_1 to Communicate_1--><path d="M739,495.7854 C739,508.9134 739,525.3834 739,544.1714 " fill="none" id="OpenObservationPort_1-Communicate_1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="739,549.5304,743,540.5304,739,544.5304,735,540.5304,739,549.5304" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="740" y="528.1045">ObservationSocket?WasOpened</text><!--link *start*Comms to WaitForSettings_4--><path d="M739,148.7594 C739,156.7994 739,168.9394 739,180.2594 " fill="none" id="*start*Comms-WaitForSettings_4" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="739,185.3894,743,176.3894,739,180.3894,735,176.3894,739,185.3894" style="stroke: #A80036; stroke-width: 1.0;"/><!--link *start to Comms--><path d="M750,28.19 C750,38.68 750,57.68 750,82.84 " fill="none" id="*start-Comms" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="750,87.95,754,78.95,750,82.95,746,78.95,750,87.95" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="202" x="655" y="1350.5332">Behavior of thing Communicator</text><!--
@startuml
skinparam defaultTextAlignment left
caption Behavior of thing Communicator
[*] - -> Comms
state Comms{
state WaitForSettings_4{

WaitForSettings_4 - -> OpenControlPort_1 : settings:Loaded?Settings\naction do...end
}
state OpenControlPort_1{
	OpenControlPort_1 : entry / ControlSocket!Open(...)\n

OpenControlPort_1 - -> OpenObservationPort_1 : ControlSocket?WasOpened
}
state OpenObservationPort_1{
	OpenObservationPort_1 : entry / ObservationSocket!Open(...)\n

OpenObservationPort_1 - -> Communicate_1 : ObservationSocket?WasOpened
}
state Communicate_1{
state Ready_1{
	Ready_1 : entry / do...end
}
[*] - -> Ready_1
- -
[*] - -> WaitForCommand_2
state WaitForCommand_2{


WaitForCommand_2 - -> WaitForCommand_2 : brake:Rover?SetBrake\naction ControlSocket!Out("Rover,brake(" + FormatInteger(brake.brake) + ")")\n\n||power:Rover?SetRoverLRPower\naction ControlSocket!Out("Rover,setLRPower(" + FormatInteger(power.left) + "," + FormatInteger(power.right) + ")")\n

WaitForCommand_2 - -> WaitForPosition_2 : Rover?GetRoverPosition\naction ControlSocket!Out("Rover,GPS()")\n

WaitForCommand_2 - -> WaitForCompass_1 : Rover?GetRoverCompass\naction ControlSocket!Out("Rover,getCompass()")\n
}
state WaitForPosition_2{

WaitForPosition_2 - -> WaitForCommand_2 : response:ControlSocket?In\naction do...end
}
state WaitForCompass_1{

WaitForCompass_1 - -> WaitForCommand_2 : response:ControlSocket?In\naction do...end
}
Note top of WaitForCommand_2 : Region Rover_1
- -
[*] - -> WaitForCommand_3
state WaitForCommand_3{

WaitForCommand_3 - -> WaitForSimulationStarted_1 : Leader?LeaderStart\naction ObservationSocket!Out("ready")\n

WaitForCommand_3 - -> WaitForPosition_3 : Leader?GetLeaderPosition\naction ObservationSocket!Out("Leader,GPS()")\n

WaitForCommand_3 - -> WaitForDistance_1 : Leader?GetLeaderDistance\naction ObservationSocket!Out("Leader,Distance()")\n
}
state WaitForSimulationStarted_1{

WaitForSimulationStarted_1 - -> WaitForCommand_3 : ObservationSocket?In\naction do...end
}
state WaitForPosition_3{

WaitForPosition_3 - -> WaitForCommand_3 : response:ObservationSocket?In\naction do...end
}
state WaitForDistance_1{

WaitForDistance_1 - -> WaitForCommand_3 : response:ObservationSocket?In\naction do...end
}
Note top of WaitForCommand_3 : Region Leader_1
}
[*] - -> WaitForSettings_4
}
@enduml

PlantUML version 1.2017.15(Mon Jul 03 18:45:34 CEST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_151-b12
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>