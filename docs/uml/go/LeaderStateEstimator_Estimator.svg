<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1212px" preserveAspectRatio="none" style="width:617px;height:1212px;" version="1.1" viewBox="0 0 617 1212" width="617px" zoomAndPan="magnify"><defs><filter height="300%" id="f3pwkyrzpozks" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="305.5" cy="18" fill="#000000" filter="url(#f3pwkyrzpozks)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f3pwkyrzpozks)" height="1085.6094" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="599" x="6" y="88"/><rect fill="#FFFFFF" height="1052" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="593" x="9" y="118.6094"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="6" x2="605" y1="115.6094" y2="115.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="276" y="107.5332">Estimator</text><ellipse cx="294.5" cy="138.6094" fill="#000000" filter="url(#f3pwkyrzpozks)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f3pwkyrzpozks)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="231" y="185.6094"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="358" y1="213.2188" y2="213.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="241" y="205.1426">WaitForReady_3</text><rect fill="#FEFECE" filter="url(#f3pwkyrzpozks)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="224.5" y="322.6094"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="224.5" x2="364.5" y1="350.2188" y2="350.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="120" x="234.5" y="342.1426">WaitForStarted_11</text><rect fill="#FEFECE" filter="url(#f3pwkyrzpozks)" height="338.7969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="555" x="17" y="426.6094"/><rect fill="#FFFFFF" height="270" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="549" x="20" y="492.4063"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="17" x2="572" y1="489.4063" y2="489.4063"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="17" x2="572" y1="454.2188" y2="454.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="256" y="446.1426">Bootstrap_7</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="263" x="22" y="466.6758">entry / println "Bootstrapping Leader estimator..."</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="0" x="25" y="481.7695"/><ellipse cx="132" cy="512.4063" fill="#000000" filter="url(#f3pwkyrzpozks)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f3pwkyrzpozks)" height="67.7969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="208" x="28" y="559.4063"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="28" x2="236" y1="587.0156" y2="587.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="83.5" y="578.9395">GetPosition_14</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="188" x="33" y="604.4727">entry / Leader!GetLeaderPosition()</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="0" x="36" y="619.5664"/><rect fill="#FEFECE" filter="url(#f3pwkyrzpozks)" height="52.7031" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="82.5" y="697.4063"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="82.5" x2="181.5" y1="725.0156" y2="725.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="110" y="716.9395">Wait_7</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="87.5" y="742.4727">entry / do...end</text><!--link GetPosition_14 to Wait_7--><path d="M56.8396,627.7163 C51.0093,632.8643 45.8881,638.7343 42,645.4063 C34.3918,658.4624 33.9695,666.6056 42,679.4063 C50.2031,692.4821 63.5704,701.7229 77.5232,708.2151 " fill="none" id="GetPosition_14-Wait_7" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="82.2709,710.313,75.6556,703.0165,77.6975,708.292,72.4221,710.3339,82.2709,710.313" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="43" y="659.9014">pos:Leader?LeaderPosition</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="43" y="676.2529">action do...end</text><!--link Wait_7 to GetPosition_14--><path d="M181.801,700.3696 C189.506,694.6524 196.417,687.7138 201,679.4063 C208.3,666.1752 207.805,658.8983 201,645.4063 C198.432,640.3153 195.089,635.6053 191.26,631.2783 " fill="none" id="Wait_7-GetPosition_14" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="187.616,627.4113,190.8769,636.7046,191.045,631.0502,196.6993,631.2183,187.616,627.4113" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="326" x="207" y="667.9014">t:Timer?timer_timeout[(t.id == 2 and SamplesRead &lt; N)]</text><!--link *start*Bootstrap_7 to GetPosition_14--><path d="M132,522.4683 C132,530.3413 132,542.3073 132,554.1273 " fill="none" id="*start*Bootstrap_7-GetPosition_14" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="132,559.1713,136,550.1713,132,554.1713,128,550.1713,132,559.1713" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f3pwkyrzpozks)" height="338.7969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="412" x="88.5" y="819.6094"/><rect fill="#FFFFFF" height="270" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="406" x="91.5" y="885.4063"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="88.5" x2="500.5" y1="882.4063" y2="882.4063"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="88.5" x2="500.5" y1="847.2188" y2="847.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="255.5" y="839.1426">Estimate_11</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="220" x="93.5" y="859.6758">entry / println "Estimating Leader state..."</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="0" x="96.5" y="874.7695"/><ellipse cx="212.735" cy="905.4063" fill="#000000" filter="url(#f3pwkyrzpozks)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f3pwkyrzpozks)" height="52.7031" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="141.2346" y="952.4063"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="141.2346" x2="284.2346" y1="980.0156" y2="980.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="151.2346" y="971.9395">FiniteDifferences_7</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="146.2346" y="997.4727">entry / do...end</text><rect fill="#FEFECE" filter="url(#f3pwkyrzpozks)" height="67.7969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="208" x="108.7346" y="1075.4063"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="108.7346" x2="316.7346" y1="1103.0156" y2="1103.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="164.2346" y="1094.9395">GetPosition_15</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="188" x="113.7346" y="1120.4727">entry / Leader!GetLeaderPosition()</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="0" x="116.7346" y="1135.5664"/><!--link FiniteDifferences_7 to GetPosition_15--><path d="M141.046,995.4282 C127.1301,1001.7923 114.2431,1010.7623 105.7346,1023.4063 C97.2981,1035.9433 97.6693,1044.6275 105.7346,1057.4063 C109.0811,1062.7086 113.1467,1067.4712 117.7129,1071.7474 " fill="none" id="FiniteDifferences_7-GetPosition_15" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="121.6613,1075.2262,117.5528,1066.2751,117.9097,1071.9207,112.2642,1072.2776,121.6613,1075.2262" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="106.7346" y="1045.9014">t:Timer?timer_timeout[(t.id == 2)]</text><!--link GetPosition_15 to FiniteDifferences_7--><path d="M284.209,1075.0623 C289.933,1069.9049 294.954,1064.043 298.735,1057.4063 C306.214,1044.2758 306.649,1036.2793 298.735,1023.4063 C295.313,1017.8413 290.934,1012.9613 285.97,1008.6873 " fill="none" id="GetPosition_15-FiniteDifferences_7" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="282.066,1005.5363,286.5548,1014.3027,285.9559,1008.6776,291.581,1008.0788,282.066,1005.5363" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="304.735" y="1037.9014">pos:Leader?LeaderPosition</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="304.735" y="1054.2529">action do...end</text><!--link *start*Estimate_11 to FiniteDifferences_7--><path d="M212.735,915.4623 C212.735,923.4783 212.735,935.6553 212.735,947.1333 " fill="none" id="*start*Estimate_11-FiniteDifferences_7" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="212.735,952.3413,216.735,943.3413,212.735,947.3413,208.735,943.3413,212.735,952.3413" style="stroke: #A80036; stroke-width: 1.0;"/><!--link WaitForReady_3 to WaitForStarted_11--><path d="M294.5,235.7444 C294.5,258.5444 294.5,292.7894 294.5,317.1804 " fill="none" id="WaitForReady_3-WaitForStarted_11" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="294.5,322.2274,298.5,313.2274,294.5,317.2274,290.5,313.2274,294.5,322.2274" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="295.5" y="268.1045">Leader?Ready</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="295.5" y="284.4561">action Leader!LeaderStart()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="299.5" y="300.8076"/><!--link WaitForStarted_11 to Bootstrap_7--><path d="M294.5,372.6934 C294.5,385.4284 294.5,402.3084 294.5,421.0954 " fill="none" id="WaitForStarted_11-Bootstrap_7" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="294.5,426.4434,298.5,417.4434,294.5,421.4434,290.5,417.4434,294.5,426.4434" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="295.5" y="405.1045">Leader?SimulationStarted</text><!--link Bootstrap_7 to Estimate_11--><path d="M294.5,765.7654 C294.5,781.8744 294.5,798.2304 294.5,814.3864 " fill="none" id="Bootstrap_7-Estimate_11" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="294.5,819.3934,298.5,810.3934,294.5,814.3934,290.5,810.3934,294.5,819.3934" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="295.5" y="798.1045">t:Timer?timer_timeout[(t.id == 2)]</text><!--link *start*Estimator to WaitForReady_3--><path d="M294.5,148.7594 C294.5,156.7994 294.5,168.9354 294.5,180.2634 " fill="none" id="*start*Estimator-WaitForReady_3" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="294.5,185.3934,298.5,176.3934,294.5,180.3934,290.5,176.3934,294.5,185.3934" style="stroke: #A80036; stroke-width: 1.0;"/><!--link *start to Estimator--><path d="M305.5,28.11 C305.5,38.62 305.5,57.72 305.5,82.85 " fill="none" id="*start-Estimator" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="305.5,87.95,309.5,78.95,305.5,82.95,301.5,78.95,305.5,87.95" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="248" x="187.5" y="1198.5332">Behavior of thing LeaderStateEstimator</text><!--
@startuml
skinparam defaultTextAlignment left
caption Behavior of thing LeaderStateEstimator
[*] - -> Estimator
state Estimator{
state WaitForReady_3{

WaitForReady_3 - -> WaitForStarted_11 : Leader?Ready\naction Leader!LeaderStart()\n
}
state WaitForStarted_11{

WaitForStarted_11 - -> Bootstrap_7 : Leader?SimulationStarted
}
state Bootstrap_7{
state GetPosition_14{
	GetPosition_14 : entry / Leader!GetLeaderPosition()\n

GetPosition_14 - -> Wait_7 : pos:Leader?LeaderPosition\naction do...end
}
state Wait_7{
	Wait_7 : entry / do...end

Wait_7 - -> GetPosition_14 : t:Timer?timer_timeout[(t.id == 2 and SamplesRead < N)]
}
[*] - -> GetPosition_14

Bootstrap_7 - -> Estimate_11 : t:Timer?timer_timeout[(t.id == 2)]
	Bootstrap_7 : entry / println "Bootstrapping Leader estimator..."\n
}
state Estimate_11{
state FiniteDifferences_7{
	FiniteDifferences_7 : entry / do...end

FiniteDifferences_7 - -> GetPosition_15 : t:Timer?timer_timeout[(t.id == 2)]
}
state GetPosition_15{
	GetPosition_15 : entry / Leader!GetLeaderPosition()\n

GetPosition_15 - -> FiniteDifferences_7 : pos:Leader?LeaderPosition\naction do...end
}
[*] - -> FiniteDifferences_7
	Estimate_11 : entry / println "Estimating Leader state..."\n
}
[*] - -> WaitForReady_3
}
@enduml

PlantUML version 1.2017.15(Mon Jul 03 18:45:34 CEST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_151-b12
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>